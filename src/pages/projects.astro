---
import Layout from '../layouts/Layout.astro'
import Navbar from '../components/Navbar.astro'
import { getCollection } from 'astro:content'
import type { CollectionEntry } from 'astro:content'

// Get all projects from the content collection
const projects: CollectionEntry<'projects'>[] = await getCollection("projects");
---

<Layout title="Projects">
	<Navbar />
	<main class="flex flex-col items-start justify-center max-w-3xl mx-auto p-4">
		<h1 class="text-lg font-bold text-neutral-50 text-left pb-4">Projects</h1>
		
		<div class="flex flex-col w-full">
			{projects.map((project) => (
				<article class="border-b-[1px] border-neutral-50/50 p-4 hover:shadow-lg transition-shadow">
					<a href={`/projects/${project.slug}`}>
						<h2 class="mb-2 text-neutral-200 text-sm">{project.data.title}</h2>
						{project.data.description && (
							<p class="text-neutral-500 text-xs">{project.data.description}</p>
						)}
					</a>
				</article>
			))}
		</div>
	</main>
</Layout>